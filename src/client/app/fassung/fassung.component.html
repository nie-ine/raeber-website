<div class="rt-container">
  <md-sidenav-container>
    <div class="component-content normal">
      <div id="rae-toolbar">
        <rae-fassung-werkzeugleiste
          [(showRegister)]="show_register"
          [(poemResizable)]="poem_resizable"
          [idOfPrev]="prevPoem"
          [idOfNext]="nextPoem"></rae-fassung-werkzeugleiste>
      </div>

      <div id="k2Container" class="itemView">

        <div class="itemTagsBlock" style='float:right'>
          <ul class="itemTags">
            <li *ngFor="let t of fassung_tag">
              <a [routerLink]="['/synopsen/' + t]" routerLinkActive="active">
                Synopse&nbsp;{{t}} &nbsp;
              </a>
            </li>
          </ul>
        </div>

        <div class="itemHeader">
          <!-- Date created -->
          <time class="itemDateCreated">{{creationDate}}</time>
          <!-- Item title -->
          <h2 class="itemTitle">
            {{poem_id}}
            <!-- TODO -->
            Wolke
          </h2>
        </div>

        <div class="itemBody">

          <!-- Item text -->
          <div class="itemFullText">

            <md-card>
              <md-card-content
                *ngIf="zeigeKonstituiert"
                [ngClass]="{'rae-fassung-resizable': poem_resizable, 'rae-fassung-nonresizable': !poem_resizable}">
                <section class="edtext edtext_hs">
                  <rae-text></rae-text>
                </section>
              </md-card-content>
              <md-card-footer>
                <button md-button (click)="zeigeKonstituiert = !zeigeKonstituiert">
                  <md-icon *ngIf="zeigeKonstituiert">expand_less</md-icon>
                  <md-icon *ngIf="!zeigeKonstituiert">expand_more</md-icon>
                  <span *ngIf="zeigeKonstituiert">Text verbergen</span>
                  <span *ngIf="!zeigeKonstituiert">Text anzeigen</span>
                </button>
              </md-card-footer>
            </md-card>

            <md-card *ngIf="konvolut_type === 'manuskripte' || konvolut_type === 'notizbuecher'">
              <md-card-content *ngIf="zeigeDiplomatisch">
                <rae-fassung-diplomatisch [pages]="pages"></rae-fassung-diplomatisch>
              </md-card-content>
              <md-card-footer>
                <button md-button (click)="zeigeDiplomatisch = !zeigeDiplomatisch">
                  <md-icon *ngIf="zeigeDiplomatisch">expand_less</md-icon>
                  <md-icon *ngIf="!zeigeDiplomatisch">expand_more</md-icon>
                  <span *ngIf="zeigeDiplomatisch">Diplomatischen Text verbergen</span>
                  <span *ngIf="!zeigeDiplomatisch">Diplomatischen Text anzeigen</span>
                </button>
              </md-card-footer>
            </md-card>

          </div>
          <div class="itemExtraFields">
            <rae-fassung-steckbrief></rae-fassung-steckbrief>
          </div>
        </div>

        <div class="itemLinks">
          <!-- Item tags -->
          <div class="itemTagsBlock">
            <span>Synopse:</span>
            <ul class="itemTags">
              <li *ngFor="let t of fassung_tag">
                <a [routerLink]="['/synopsen/', + t]" routerLinkActive="active">{{t}}</a>
              </li>
            </ul>
          </div>
        </div>

        <!-- Related items by tag -->
        <div class="itemRelated">
          <rae-fassung-weitere [synopsenTags]="fassung_tag"></rae-fassung-weitere>
        </div>

        <div class="itemToolbar">
          <ul>
            <rae-fassung-blaettern
              style="font-size: 0.8em; float: left"
              [idOfPrev]="prevPoem"
              [idOfNext]="nextPoem"></rae-fassung-blaettern>
            <time style='font-size:0.8em;'>Ã„nderung: {{modificationDate}}</time>
            <!-- Print Button -->
          </ul>
        </div>
      </div>
    </div>
    <md-sidenav mode="side" align="end" [opened]=show_register class="rae-fassung-seitenregister">
      <aside>
        <rae-registerspalte></rae-registerspalte>
        <div class="moduletable">
          <h3>Suchen: {{konvolut_id}}</h3><!-- TODO: Variable ersetzen -->
          <p>Nach Suchbegriff</p><!-- TODO: ersetzen -->
          <p>Nach Seite oder Blatt</p><!-- TODO: ersetzen -->
        </div>
      </aside>
    </md-sidenav>
    <div *ngIf=show_register class="rae-fassung-bodenregister">
      <aside>
       <rae-registerspalte></rae-registerspalte>
        <div class="moduletable">
         <h3>Suchen: {{konvolut_id}}</h3><!-- TODO: Variable ersetzen -->
         <p>Nach Suchbegriff</p><!-- TODO: ersetzen -->
         <p>Nach Seite oder Blatt</p><!-- TODO: ersetzen -->
        </div>
      </aside>
    </div>
  </md-sidenav-container>
</div>
